// Generated by CoffeeScript 2.5.1
(function() {
  var cfg, definitionFile, log, mainprocessmodule, networkInterface, olog, ostr, p, print, sciFiles, testingFiles;

  mainprocessmodule = {
    name: "mainprocessmodule"
  };

  //region logPrintFunctions
  //#############################################################################
  log = function(arg) {
    if (allModules.debugmodule.modulesToDebug["mainprocessmodule"] != null) {
      console.log("[mainprocessmodule]: " + arg);
    }
  };

  olog = function(o) {
    return log("\n" + ostr(o));
  };

  ostr = function(o) {
    return JSON.stringify(o, null, 4);
  };

  print = function(arg) {
    return console.log(arg);
  };

  //endregion

  //###########################################################
  //region modulesFromEnvironment
  p = null;

  cfg = null;

  definitionFile = null;

  networkInterface = null;

  sciFiles = null;

  testingFiles = null;

  //endregion

  //###########################################################
  mainprocessmodule.initialize = function() {
    log("mainprocessmodule.initialize");
    p = allModules.pathmodule;
    cfg = allModules.configmodule;
    definitionFile = allModules.definitionfilemodule;
    networkInterface = allModules.networkinterfacemodule;
    sciFiles = allModules.scifilesmodule;
    testingFiles = allModules.testingfilesmodule;
  };

  
  //###########################################################
  //region exposedFunctions
  mainprocessmodule.execute = function(e) {
    var interfaceObject, name;
    log("mainprocessmodule.execute");
    definitionFile.digestFile(e.source);
    interfaceObject = definitionFile.interfaceObject;
    if (e.name != null) {
      name = e.name;
    } else {
      name = p.basename;
    }
    networkInterface.writeFile(interfaceObject, name);
    sciFiles.writeFiles(interfaceObject, name);
    testingFiles.writeFiles(interfaceObject, name);
  };

  //endregion
  module.exports = mainprocessmodule;

}).call(this);
